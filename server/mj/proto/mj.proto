// Client <-> WorldServer

package qp_server;


message qp_packet_req {
    required int32 cmd = 1; // 协议ID
    required uint32 seq_id = 2; // 流水号
    required bytes body = 3; // 包体
}

message qp_packet_rsp {
    required int32 cmd = 1; // 协议ID
    required uint32 seq_id = 2; // 流水号
    optional bytes body = 3; // 包体
}

enum ws_cmd {
    CMD_LOGIN_REQ = 1001; // 登录请求 (ws_login_req)
    CMD_LOGIN_RSP = 1002; // 登录回复 (ws_login_rsp)
	
    CMD_CREATE_ROOM_REQ = 1003; //创建房间
    CMD_CREATE_ROOM_RSP = 1004; //创建房间的应答


    CMD_JOIN_ROOM_REQ = 1005;   //进入房间
    CMD_JOIN_ROOM_RSP = 1006;   //进入房间的应答

    CMD_GAME_START_NOTIFY = 1007;   //游戏开始的通知
    CMD_GAME_END_NOTIFY = 1008;     //游戏结束的通知

    CMD_GAME_DATA_REQ = 1009;       //游戏数据的请求
    CMD_GAME_DATA_RSP=  1010;       //游戏数据的应答
    CMD_GAME_DATA_PUSH = 1011;      //游戏数据主动推送

}



// 登录请求
message login_req {
    required string acc = 1;
}

message login_rsp {
    required int32 state = 1;
}

//创建房间的请求
message create_room_req {
    required int32 room_type = 1;
    required int32 ready_state = 2;
}

//创建房间的应答
message create_room_rsp {
    required int32 state = 1;
    optional int32 room_id = 2;
}

//进入房间的请求
message join_room_req {
    requird int32 room_id = 1;
}

//房间玩家的信息
message room_user {
    required int32 seat_id = 1;
}

//进入房间的应答
message join_room_rsp {
    requird int32 state = 1;
    repeated room_user users = 2;
}

//准备
message ready_req {
    requird int32 id = 1;
}

//准备应答
message ready_rsp {
    requird int32 state = 1;
}

//游戏开始的通知
message game_data {
    required bytes data = 1;
}




